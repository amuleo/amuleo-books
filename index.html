<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="">
    <meta name="msapplication-navbutton-color" content="">
    <meta name="apple-mobile-web-app-status-bar-style" content="">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <title>Ú©ØªØ§Ø¨Ø®ÙˆÙ†Ù‡ Ø¹Ù…Ùˆ Ù„Ø¦Ùˆ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        /* ØªØ¹Ø±ÛŒÙ ÙÙˆÙ†Øª Mikhak */
        @font-face {
            font-family: 'Mikhak';
            src: url('fonts/Mikhak.woff2') format('truetype');
        }

        /* ØªØ¹Ø±ÛŒÙ Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ CSS Ø¨Ø±Ø§ÛŒ ØªÙ… Ø±ÙˆØ´Ù† Ùˆ ØªØ§Ø±ÛŒÚ© */
        :root {
            --bg: #eef1f6;
            --card: #ffffff;
            --border: #e5e5e5;
            --text: #333;
            --hover: #dbdce0;
            --span: #9e8e71;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ØªÙ… ØªØ§Ø±ÛŒÚ© */
        body.dark {
            --bg: #212121;
            --card: #303030;
            --border: #666;
            --text: #f0f0f0;
            --hover: #1a1a1c;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø§Ø³Ú©Ø±ÙˆÙ„â€ŒØ¨Ø§Ø± Ø¨Ø±Ø§ÛŒ Ù…Ø±ÙˆØ±Ú¯Ø±Ù‡Ø§ÛŒ WebKit */
        ::-webkit-scrollbar {
            width: 5px;
            height: 5px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--text);
            border-radius: 5px;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø§Ø³Ú©Ø±ÙˆÙ„â€ŒØ¨Ø§Ø± Ø¨Ø±Ø§ÛŒ ÙØ§ÛŒØ±ÙØ§Ú©Ø³ */
        html {
            scrollbar-width: thin;
            scrollbar-color: var(--bg);
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ú©Ù„ÛŒ Ø¨Ø¯Ù†Ù‡ ØµÙØ­Ù‡ */
        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg);
            font-family: 'Mikhak', sans-serif;
            color: var(--text);
            direction: rtl;
            font-size: 1.1rem;
            text-align: center;
            transition: background-color 0.3s, color 0.3s;
        }

        .container {
            max-width: 800px;
            margin: auto;
            padding: 100px 10px;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ù‡Ø¯Ø± */
        .header {
            display: flex;
            position: fixed;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
            background-color: var(--card);
            padding: 15px;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            height: 60px;
        }

        .header h1 {
            margin-right: 40px;
            color: var(--text);
            font-size: 1.5rem;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ø¯Ú©Ù…Ù‡ ØªØºÛŒÛŒØ± ØªÙ… */
        .theme-toggle {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            border: none;
            background-color: var(--bg);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .theme-toggle i {
            color: var(--text);
            font-size: 18px;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Modal Ø§Ù†ØªØ®Ø§Ø¨ ØªÙ… */
        .theme-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5); /* Ù¾ÙˆØ´Ø´ Ù†ÛŒÙ…Ù‡â€ŒØ´ÙØ§Ù */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000; /* Ø¨Ø§Ù„Ø§ØªØ± Ø§Ø² Ù‡Ø¯Ø± */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
        }

        .theme-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .theme-modal-content {
            background-color: var(--card);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            text-align: center;
            position: relative;
            max-width: 350px; /* ØªÙ†Ø¸ÛŒÙ… Ø¹Ø±Ø¶ */
            width: 90%; /* Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ */
            margin: 0 15px; /* ÙØ§ØµÙ„Ù‡ Û±Ûµ Ù¾ÛŒÚ©Ø³Ù„ÛŒ Ø§Ø² Ú†Ù¾ Ùˆ Ø±Ø§Ø³Øª Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ */
            transform: translateY(-20px); /* Ø§ÙØ³Øª Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ø§Ù†ÛŒÙ…ÛŒØ´Ù† */
            transition: transform 0.3s ease-in-out;
        }

        .theme-modal.show .theme-modal-content {
            transform: translateY(0); /* Ø§ÙÚ©Øª Ø§Ø³Ù„Ø§ÛŒØ¯ Ø¨Ù‡ Ø¯Ø§Ø®Ù„ */
        }

        .close-modal-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            color: var(--text);
            cursor: pointer;
            transition: color 0.2s;
        }

        .close-modal-btn:hover {
            color: var(--span);
        }

        .theme-options-wrapper {
            display: flex;
            flex-direction: column; /* Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø¹Ù…ÙˆØ¯ÛŒ Ø¯Ø± ØµÙØ­Ù‡ Ú©ÙˆÚ†Ú© */
            gap: 15px;
            margin-top: 20px;
        }

        .theme-option {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 12px 20px;
            border: 1px solid var(--border);
            border-radius: 10px;
            background-color: var(--bg); /* Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ú©Ù…ÛŒ Ù…ØªÙØ§ÙˆØª Ø¨Ø±Ø§ÛŒ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ */
            color: var(--text);
            font-family: 'Mikhak', sans-serif;
            font-size: 1.1rem;
            cursor: pointer;
            transition: background-color 0.3s, border-color 0.3s, color 0.3s;
        }

        .theme-option:hover {
            background-color: var(--hover);
            border-color: var(--span);
        }

        .theme-option.selected {
            background-color: var(--span); /* Ø¨Ø±Ø¬Ø³ØªÙ‡ Ú©Ø±Ø¯Ù† Ú¯Ø²ÛŒÙ†Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ */
            color: #ffffff; /* Ù…ØªÙ† Ø³ÙÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ú¯Ø²ÛŒÙ†Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ */
            border-color: var(--span);
            box-shadow: 0 0 0 2px rgba(158, 142, 113, 0.5); /* Ø¯Ø±Ø®Ø´Ø´ Ù…Ù„Ø§ÛŒÙ… */
        }

        .theme-option.selected i {
            color: #ffffff; /* Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ù…Ø·Ø§Ø¨Ù‚Øª Ø±Ù†Ú¯ Ø¢ÛŒÚ©ÙˆÙ† Ø¨Ø§ Ù…ØªÙ† Ø¨Ø±Ø§ÛŒ Ú¯Ø²ÛŒÙ†Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ */
        }

        .theme-option i {
            font-size: 1.2rem;
            color: var(--text); /* Ø±Ù†Ú¯ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¢ÛŒÚ©ÙˆÙ† */
            transition: color 0.3s;
        }

        /* ØªÙ†Ø¸ÛŒÙ…Ø§Øª ÙˆØ§Ú©Ù†Ø´â€ŒÚ¯Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ ØªÙ… */
        @media (min-width: 481px) {
            .theme-options-wrapper {
                flex-direction: row; /* Ú†ÛŒØ¯Ù…Ø§Ù† Ø§ÙÙ‚ÛŒ Ø¯Ø± ØµÙØ­Ù‡ Ø¨Ø²Ø±Ú¯ØªØ± */
                justify-content: space-around;
            }
            .theme-option {
                flex: 1; /* ØªÙˆØ²ÛŒØ¹ ÙØ¶Ø§ÛŒ Ù…Ø³Ø§ÙˆÛŒ */
            }
            .theme-modal-content {
                margin: auto; /* Ø­Ø°Ù margin Ø§ÙÙ‚ÛŒ Ø¨Ø±Ø§ÛŒ ØµÙØ­Ø§Øª Ø¨Ø²Ø±Ú¯ØªØ± */
            }
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Summary Box */
        .summary-box {
            background-color: var(--card);
            border: none;
            border-radius: 10px;
            padding: 15px;
            margin: 15px auto;
            max-width: 800px;
            width: 100%;
            box-sizing: border-box;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Skeleton Loader Ø¨Ø±Ø§ÛŒ Summary Box */
        .summary-box-skeleton {
            background-color: var(--card);
            border-radius: 10px;
            padding: 15px;
            margin: 15px auto;
            max-width: 800px;
            width: 100%;
            height: 80px; /* Ø§Ø±ØªÙØ§Ø¹ Ø«Ø§Ø¨Øª Ø¨Ø±Ø§ÛŒ Ø§Ø³Ú©Ù„ØªÙˆÙ† Ø®Ù„Ø§ØµÙ‡ */
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            animation: shimmer 1.5s infinite linear;
            background: linear-gradient(to right, var(--border) 8%, var(--hover) 18%, var(--border) 33%);
            background-size: 800px 100%;
            opacity: 1 !important;
        }

        .summary-box-skeleton .skeleton-line {
            height: 1em;
            background-color: var(--border);
            border-radius: 3px;
            margin-bottom: 0.5em;
        }

        .summary-box-skeleton .skeleton-line:nth-child(1) {
            width: 90%;
        }
        .summary-box-skeleton .skeleton-line:nth-child(2) {
            width: 70%;
        }


        /* Ø§Ø³ØªØ§ÛŒÙ„ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ */
        .card {
            background-color: var(--card);
            border: none;
            border-radius: 10px;
            padding: 15px;
            margin: 15px auto;
            max-width: 800px;
            width: 100%;
            box-sizing: border-box;
            position: relative;
            overflow: hidden;
            min-height: 250px;
            cursor: pointer;
            opacity: 0; /* Ø¯Ø± Ø§Ø¨ØªØ¯Ø§ Ù¾Ù†Ù‡Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø§ÙÚ©Øª ÙÛŒØ¯-Ø§ÛŒÙ† */
            transition: opacity 0.5s ease-in-out;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Skeleton Loader Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ */
        .card.skeleton {
            height: 150px; /* Ø§Ø±ØªÙØ§Ø¹ Ø«Ø§Ø¨Øª Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ø³Ú©Ù„ØªÙˆÙ† */
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            align-items: flex-start;
            padding: 15px;
            opacity: 1 !important; /* Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ú©Ù‡ Ø¯Ø± Ø§Ø¨ØªØ¯Ø§ Ù‚Ø§Ø¨Ù„ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø³Øª */
        }

        .card.skeleton .skeleton-line {
            height: 1em;
            background-color: var(--border);
            border-radius: 3px;
            margin-bottom: 0.5em;
            animation: shimmer 1.5s infinite linear;
            background: linear-gradient(to right, var(--border) 8%, var(--hover) 18%, var(--border) 33%);
            background-size: 800px 100%;
        }

        .card.skeleton .skeleton-line:nth-child(1) {
            width: 80%;
        }
        .card.skeleton .skeleton-line:nth-child(2) {
            width: 95%;
        }
        .card.skeleton .skeleton-line:nth-child(3) {
            width: 70%;
        }

        /* Ø§Ù†ÛŒÙ…ÛŒØ´Ù† shimmer Ø¨Ø±Ø§ÛŒ Skeleton Loaders */
        @keyframes shimmer {
            0% {
                background-position: -468px 0;
            }
            100% {
                background-position: 468px 0;
            }
        }

        /* Ø§ÙÚ©Øª ÙÛŒØ¯-Ø§ÛŒÙ† Ø¨Ø±Ø§ÛŒ Ù…Ø­ØªÙˆØ§ÛŒ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯Ù‡ */
        .card.fade-in {
            opacity: 1;
        }

        .card-content {
            position: relative;
            z-index: 1;
            text-align: justify;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .card hr {
            border: none;
            border-top: 1px solid var(--border);
            margin: 8px 0;
            opacity: 0.5;
        }

        @media (max-width: 480px) {
            body { font-size: 1rem; }
            .card-content { font-size: 0.9rem; }
            .container { padding: 80px 20px; }
            .header { height: 40px; }
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ù¾Ø§Ù¾â€ŒØ¢Ù¾ */
        #popupModal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }
        .modal-content {
            background: var(--card);
            border-radius: 10px;
            padding: 15px;
            margin: 0 15px;
            max-width: 500px;
            width: calc(100% - 30px);
            height: 300px; /* Ø§Ø±ØªÙØ§Ø¹ Ø«Ø§Ø¨Øª */
            display: flex;
            flex-direction: column;
        }
        /* Ù¾Ø§Ø±Ø§Ú¯Ø±Ø§Ù Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø¨Ø§ Ù‚Ø§Ø¨Ù„ÛŒØª Ø§Ø³Ú©Ø±ÙˆÙ„Ø› Ø§Ø² Ù¾Ø¯ÛŒÙ†Ú¯ Ùˆ Ù…Ø§Ø±Ø¬ÛŒÙ† Ù¾Ø§ÛŒÛŒÙ† Ø¨Ø±Ø§ÛŒ ÙØ§ØµÙ„Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ */
        .modal-content p#popupText {
            overflow-y: scroll;
            white-space: normal;
            flex: 1;
            margin-bottom: 15px;
        }
        /* Ø¯Ú©Ù…Ù‡ Ø¨Ø³ØªÙ† Ù¾Ø§Ù¾â€ŒØ¢Ù¾ (ØªÙ…Ø§Ù… Ø¹Ø±Ø¶) Ø¨Ø§ Ø§Ø³ØªØ§ÛŒÙ„ Ù‡Ø§ÙˆØ± */
        #closePopup {
            background: var(--bg);
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            cursor: pointer;
            font-family: 'Mikhak', sans-serif;
            color: var(--text);
            width: 100%;
            transition: background-color 0.3s;
        }
        #closePopup:hover {
            background-color: var(--hover);
        }

        .load-more-btn {
            background-color: var(--card);
            font-family: 'Mikhak', sans-serif;
            color: var(--text);
            border: none;
            padding: 10px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .load-more-btn:hover {
            background-color: var(--hover);
        }

        p {
            text-align: justify;
        }

        .summary-box p {
            display: inline-block;
            text-align: justify;
            margin: 0;
        }

        .justi{
            display: inline-block;
            text-align: justify;
            margin: 0;
        }

        .label {
            color: var(--span);
        }

        .typing::after {
            content: "...";
            display: inline-block;
            animation: typingDots 1.5s infinite steps(3);
        }

        @keyframes typingDots {
            0% { content: "."; }
            33% { content: ".."; }
            66% { content: "..."; }
        }

        .ticked::after {
            content: " âœ“"; /* ØªÛŒÚ© Ù…ØªÙ†ÛŒ */
            font-weight: bold; /* ØªØ§Ú©ÛŒØ¯ Ø¨ÛŒØ´ØªØ± */
            opacity: 0;
            animation: fadeTick 2s infinite;
        }

        @keyframes fadeTick {
            0% { opacity: 0; }
            50% { opacity: 1; }
            100% { opacity: 0; }
        }

        .later::after {
            content: " >>"; /* ÙÙ„Ø´ Ø¯ÙˆØªØ§ÛŒÛŒ Ù†Ø´Ø§Ù†â€ŒØ¯Ù‡Ù†Ø¯Ù‡ Ø®ÙˆØ§Ù†Ø¯Ù† Ø¯Ø± Ø¢ÛŒÙ†Ø¯Ù‡ */
            font-weight: bold;
            opacity: 0;
            animation: fadeArrow 2s infinite;
        }

        @keyframes fadeArrow {
            0% { opacity: 0; }
            50% { opacity: 1; }
            100% { opacity: 0; }
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ú©Ù„Ø§Ø³ pitem Ø¨Ø±Ø§ÛŒ Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ */
        .pitem {
            background: var(--bg);
            padding: 15px;
            border-radius: 15px;
            white-space: nowrap;
            overflow-x: auto;
            scrollbar-width: thin;
        }

        .pitem::-webkit-scrollbar {
            height:1px; /* Ø¶Ø®Ø§Ù…Øª Ù†Ø§Ø²Ú©â€ŒØªØ± */
        }

        .pitem::-webkit-scrollbar-thumb {
            background: var(--bg); /* Ø±Ù†Ú¯ Ø¯Ø³ØªÙ‡ Ø§Ø³Ú©Ø±ÙˆÙ„ */
            border-radius: 2px;
        }

        .pitem::-webkit-scrollbar-track {
            background: transparent; /* Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ù…Ø³ÛŒØ± Ø§Ø³Ú©Ø±ÙˆÙ„ */
        }
        /* Ø§Ø³ØªØ§ÛŒÙ„ Ù…Ø´Ø§Ø¨Ù‡ pitem Ø¨Ø±Ø§ÛŒ Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ù…ØªÙ†ÛŒ Ú©ÙˆÚ†Ú© */
        .sitem {
            font-family: 'Mikhak', sans-serif;
            color: var(--text);
            background-color: var(--span);
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.95rem;
            width: 100%;
            text-align: center;
            white-space: nowrap;
            overflow-x: auto;
            scrollbar-width: thin;
        }
        /* Ø¸Ø±Ù ÙˆØ¶Ø¹ÛŒØª Ú©ØªØ§Ø¨ Ø¨Ø§ Ø¯Ùˆ Ø³ØªÙˆÙ† */
        .status-container {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
            max-width: 100%; /* Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ú©Ø´ÛŒØ¯Ù‡ Ø´Ø¯Ù† Ø¨ÛŒØ´ Ø§Ø² Ø­Ø¯ */
            box-sizing: border-box; /* Ù…Ø­Ø§Ø³Ø¨Ù‡ ØµØ­ÛŒØ­ Ø¹Ø±Ø¶ */
            flex-wrap: wrap; /* Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø®Ø±ÙˆØ¬ Ø§Ø² Ú©Ø§Ø¯Ø± */
        }
        .status-right {
            display: flex;
            text-align: center;
            width: 59%;
            max-width: 65%;
        }
        .status-left {
            display: flex;
            text-align: center;
            width: 39.5%;
            max-width: 39.5%;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>
                <span class="fa-solid fa-book">&nbsp;</span>
                Ú©ØªØ§Ø¨Ø®ÙˆÙ†Û€ <a href="https://amuleo.ir" target="_blank" style="color: var(--span); text-decoration: none;">Ø¹Ù…Ùˆ Ù„Ø¦Ùˆ</a>
            </h1>
            <button class="theme-toggle" id="themeBtn" title="ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª">
                <i class="fas fa-sun" id="themeIcon"></i>
            </button>
        </div>

        <div id="themeModal" class="theme-modal">
            <div class="theme-modal-content">
                <button class="close-modal-btn" id="closeThemeModal">&times;</button>
                <div class="theme-options-wrapper">
                    <button class="theme-option" id="autoTheme" data-theme="auto">
                        <i class="fas fa-sync-alt"></i>
                        <span>Ø®ÙˆØ¯Ú©Ø§Ø±</span>
                    </button>
                    <button class="theme-option" id="lightTheme" data-theme="light">
                        <i class="fas fa-sun"></i>
                        <span>Ø±ÙˆØ´Ù†</span>
                    </button>
                    <button class="theme-option" id="darkTheme" data-theme="dark">
                        <i class="fas fa-moon"></i>
                        <span>ØªØ§Ø±ÛŒÚ©</span>
                    </button>
                </div>
            </div>
        </div>

        <div id="summarySkeletonPlaceholder"></div>
        <div id="bookContainer"></div>
    </div>

    <div id="popupModal">
        <div class="modal-content">
            <p id="popupText" class="pitem"></p>
            <button id="closePopup"><strong>Ø¨Ø³ØªÙ†</strong></button>
        </div>
    </div>

    <script>
        /*--------------------------
            ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ (Ú©ÙˆÚ©ÛŒØŒ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ØªÙ…)
        ---------------------------*/
        function setCookie(name, value, days) {
            const d = new Date();
            d.setTime(d.getTime() + (days * 24 * 60 * 60 * 1000));
            let expires = "expires=" + d.toUTCString();
            document.cookie = name + "=" + value + ";" + expires + ";path=/";
        }

        function getCookie(name) {
            let nameEq = name + "=";
            let ca = document.cookie.split(';');
            for (let i = 0; i < ca.length; i++) {
                let c = ca[i].trim();
                if (c.indexOf(nameEq) === 0) return c.substring(nameEq.length, c.length);
            }
            return "";
        }

        function updateThemeColor(color) {
            let themeMetaTag = document.querySelector('meta[name="theme-color"]');
            if (!themeMetaTag) {
                themeMetaTag = document.createElement('meta');
                themeMetaTag.setAttribute('name', 'theme-color');
                document.head.appendChild(themeMetaTag);
            }
            themeMetaTag.setAttribute('content', color);
        }

        /*--------------------------
            Ú©Ø¯ Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ ØªØºÛŒÛŒØ± ØªÙ… (Ø´Ø¨ Ùˆ Ø±ÙˆØ²) Ø¨Ø§ Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø¬Ø¯ÛŒØ¯
        ---------------------------*/
        const themeBtn = document.getElementById("themeBtn");
        const themeIcon = document.getElementById("themeIcon");
        const themeModal = document.getElementById("themeModal");
        const closeThemeModalBtn = document.getElementById("closeThemeModal");
        const autoThemeBtn = document.getElementById("autoTheme");
        const lightThemeBtn = document.getElementById("lightTheme");
        const darkThemeBtn = document.getElementById("darkTheme");

        // ØªØ§Ø¨Ø¹ Ù…Ø±Ú©Ø²ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø¹Ù…Ø§Ù„ ØªÙ… Ø¨Ø± Ø§Ø³Ø§Ø³ ØªØ±Ø¬ÛŒØ­ (auto, light, dark)
        function applyTheme(preference) {
            const body = document.body;
            let actualThemeIsDark;

            if (preference === "auto") {
                actualThemeIsDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            } else {
                actualThemeIsDark = (preference === "dark");
            }

            body.classList.toggle("dark", actualThemeIsDark);
            themeIcon.className = actualThemeIsDark ? "fas fa-moon" : "fas fa-sun";
            updateThemeColor(actualThemeIsDark ? "#333" : "#f9fafd");
            // Ø°Ø®ÛŒØ±Ù‡ Ø­Ø§Ù„Øª ÙˆØ§Ù‚Ø¹ÛŒ ØªÙ… (dark/light) Ø¯Ø± Ú©ÙˆÚ©ÛŒ 'theme'
            setCookie("theme", actualThemeIsDark ? "dark" : "light", 365);

            // Ù‡Ø§ÛŒÙ„Ø§ÛŒØª Ú©Ø±Ø¯Ù† Ú¯Ø²ÛŒÙ†Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø¯Ø± Ù¾Ø§Ù¾â€ŒØ¢Ù¾
            document.querySelectorAll('.theme-option').forEach(option => {
                option.classList.remove('selected');
                if (option.dataset.theme === preference) {
                    option.classList.add('selected');
                }
            });
        }

        // Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø§Ù†ØªØ®Ø§Ø¨ ØªÙ… Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡
        themeBtn.addEventListener("click", () => {
            themeModal.classList.add("show");
        });

        // Ø¨Ø³ØªÙ† Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø¨Ø³ØªÙ† ÛŒØ§ Ø¨ÛŒØ±ÙˆÙ† Ø§Ø² Ù…Ø­ØªÙˆØ§
        closeThemeModalBtn.addEventListener("click", () => {
            themeModal.classList.remove("show");
        });

        themeModal.addEventListener("click", (e) => {
            if (e.target === themeModal) { // Ø§Ú¯Ø± Ø±ÙˆÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ Ú©Ù„ÛŒÚ© Ø´Ø¯
                themeModal.classList.remove("show");
            }
        });

        // Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ ØªÙ… Ø¯Ø± Ù¾Ø§Ù¾â€ŒØ¢Ù¾
        autoThemeBtn.addEventListener("click", () => {
            setCookie("theme_preference", "auto", 365);
            applyTheme("auto");
            themeModal.classList.remove("show");
        });

        lightThemeBtn.addEventListener("click", () => {
            setCookie("theme_preference", "light", 365);
            applyTheme("light");
            themeModal.classList.remove("show");
        });

        darkThemeBtn.addEventListener("click", () => {
            setCookie("theme_preference", "dark", 365);
            applyTheme("dark");
            themeModal.classList.remove("show");
        });

        // Ú¯ÙˆØ´ Ø¯Ø§Ø¯Ù† Ø¨Ù‡ ØªØºÛŒÛŒØ±Ø§Øª ØªÙ… Ø³ÛŒØ³ØªÙ… Ø¨Ø±Ø§ÛŒ Ø­Ø§Ù„Øª "Ø®ÙˆØ¯Ú©Ø§Ø±"
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
            if (getCookie("theme_preference") === "auto") {
                applyTheme("auto");
            }
        });

        /*--------------------------
            ØªÙˆØ§Ø¨Ø¹ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ Ø§Ø² Cloudflare Worker Ø¨Ø§ Skeleton Loader
        ---------------------------*/

        // ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ ÛŒÚ© Ú©Ø§Ø±Øª Ø§Ø³Ú©Ù„ØªÙˆÙ†
        function createSkeletonCard() {
            const skeletonCard = document.createElement("div");
            skeletonCard.className = "card skeleton";
            for (let i = 0; i < 3; i++) {
                const line = document.createElement("div");
                line.className = "skeleton-line";
                skeletonCard.appendChild(line);
            }
            return skeletonCard;
        }

        // ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ ÛŒÚ© Ø§Ø³Ú©Ù„ØªÙˆÙ† Ø¨Ø±Ø§ÛŒ Summary Box
        function createSummarySkeleton() {
            const summarySkeleton = document.createElement("div");
            summarySkeleton.className = "summary-box-skeleton";
            for (let i = 0; i < 2; i++) { // Ø¯Ùˆ Ø®Ø· Ø¨Ø±Ø§ÛŒ Ø®Ù„Ø§ØµÙ‡
                const line = document.createElement("div");
                line.className = "skeleton-line";
                summarySkeleton.appendChild(line);
            }
            return summarySkeleton;
        }

        /**
         * Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ Ø§Ø² Cloudflare WorkerØŒ Ø§ÛŒØ¬Ø§Ø¯ Ø®Ù„Ø§ØµÙ‡â€ŒØ§ÛŒ Ø§Ø² Ø§Ø·Ù„Ø§Ø¹Ø§Øª
         * Ùˆ Ù†Ù…Ø§ÛŒØ´ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ Ø¨Ù‡â€ŒØµÙˆØ±Øª Ú©Ø§Ø±Ø¯. Ù‡Ù…Ú†Ù†ÛŒÙ† Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø¯Ú©Ù…Ù‡ "Ù†Ù…Ø§ÛŒØ´ Ø¨ÛŒØ´ØªØ±" Ø¬Ù‡Øª
         * Ø§ÙØ²ÙˆØ¯Ù† Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ´ØªØ± Ø¨Ù‡ ØµÙØ­Ù‡ Ù†ÛŒØ² Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÛŒâ€ŒØ´ÙˆØ¯.
         */
        async function loadBooks() {
            const bookContainer = document.getElementById('bookContainer');
            const summarySkeletonPlaceholder = document.getElementById('summarySkeletonPlaceholder');
            const header = document.querySelector('.header');

            // Ù†Ù…Ø§ÛŒØ´ Ø§Ø³Ú©Ù„ØªÙˆÙ† Ø®Ù„Ø§ØµÙ‡ Ù‚Ø¨Ù„ Ø§Ø² Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
            const summarySkeleton = createSummarySkeleton();
            header.insertAdjacentElement('afterend', summarySkeleton);


            // Ù†Ù…Ø§ÛŒØ´ 5 Ú©Ø§Ø±Øª Ø§Ø³Ú©Ù„ØªÙˆÙ† Ù‚Ø¨Ù„ Ø§Ø² Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
            for (let i = 0; i < 5; i++) {
                bookContainer.appendChild(createSkeletonCard());
            }

            try {
                // Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ Ø§Ø² API
                const response = await fetch("https://book-manager-worker.immohammaddavoodi.workers.dev/list-books");
                if (!response.ok) throw new Error('Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø² Worker');

                const data = await response.json();
                let books = [];
                // Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø§Ø¯Ù‡ Ø¯Ø±ÛŒØ§ÙØªÛŒ
                if (Array.isArray(data)) {
                    books = data;
                } else if (data.success) {
                    if (data.results && Array.isArray(data.results.results)) {
                        books = data.results.results;
                    } else if (data.results && Array.isArray(data.results)) {
                        books = data.results;
                    } else {
                        throw new Error("Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØªÛŒ Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³ØªÙ†Ø¯.");
                    }
                } else {
                    throw new Error("Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø¯Ø§Ø¯Ù‡ Ø§Ø² Ø³Ø±ÙˆØ±");
                }

                // ØªØºÛŒÛŒØ±Ø§Øª Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¯Ø± Ø¹Ù†ÙˆØ§Ù† (name ÛŒØ§ title) Ú©Ù„Ù…Ù‡ "pin" Ø¯Ø§Ø±Ù†Ø¯:
                books.forEach(book => {
                    let currentTitle = book.name || book.title || "";
                    if (currentTitle && /pin/i.test(currentTitle)) {
                        // Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ú©Ù„Ù…Ù‡ "pin" Ø¨Ù‡ ØµÙˆØ±Øª global Ùˆ caseâ€‘insensitive Ùˆ Ø§ÙØ²ÙˆØ¯Ù† Ø§ÛŒÙ…ÙˆØ¬ÛŒ Ù¾ÛŒØ´ Ø§Ø² Ø¹Ù†ÙˆØ§Ù†
                        let cleanedTitle = currentTitle.replace(/pin/gi, "").trim();
                        let newTitle = `ğŸ“Œ ${cleanedTitle}`;
                        if (book.name) {
                            book.name = newTitle;
                        } else if (book.title) {
                            book.title = newTitle;
                        }
                        book.isPinned = true;
                    } else {
                        book.isPinned = false;
                    }
                });

                // Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ Ø¨Ù‡â€ŒØ·ÙˆØ±ÛŒ Ú©Ù‡ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒÙ†â€ŒØ´Ø¯Ù‡ Ø¯Ø± Ø§Ø¨ØªØ¯Ø§ÛŒ Ù„ÛŒØ³Øª Ù‚Ø±Ø§Ø± Ú¯ÛŒØ±Ù†Ø¯.
                // ÙØ±Ø¶ Ø¨Ø± Ø§ÛŒÙ† Ø§Ø³Øª Ú©Ù‡ ØªØ±ØªÛŒØ¨ Ø§ØµÙ„ÛŒ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ Ø§Ø² Ù‚Ø¯ÛŒÙ…ÛŒ Ø¨Ù‡ Ø¬Ø¯ÛŒØ¯ Ø§Ø³ØªØ›
                // Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¬Ø¯ÛŒØ¯ØªØ±ÛŒÙ†â€ŒÙ‡Ø§ Ø§Ø¨ØªØ¯Ø§ØŒ Ø¢Ø±Ø§ÛŒÙ‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø±Ø¹Ú©Ø³ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ….
                const pinnedBooks = books.filter(book => book.isPinned).reverse();
                const nonPinnedBooks = books.filter(book => !book.isPinned).reverse();
                books = [...pinnedBooks, ...nonPinnedBooks];

                // Ø­Ø°Ù Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ø³Ú©Ù„ØªÙˆÙ† Ú©ØªØ§Ø¨
                bookContainer.innerHTML = "";
                // Ø­Ø°Ù Ø§Ø³Ú©Ù„ØªÙˆÙ† Ø®Ù„Ø§ØµÙ‡
                if (summarySkeleton.parentNode) {
                    summarySkeleton.parentNode.removeChild(summarySkeleton);
                }

                // Ø§ÛŒØ¬Ø§Ø¯ Ø®Ù„Ø§ØµÙ‡ Ø¢Ù…Ø§Ø± Ú©ØªØ§Ø¨â€ŒÙ‡Ø§
                const summaryBox = document.createElement('div');
                summaryBox.className = 'summary-box';

                // ÙÛŒÙ„ØªØ± Ú©Ø±Ø¯Ù† Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ ÙˆØ¶Ø¹ÛŒØª "Ø®ÙˆØ§Ù†Ø¯Ù‡â€ŒØ§Ù…" (re) Ù‡Ø³ØªÙ†Ø¯
                const readBooks = books.filter(book => book.stat === "re");

                // Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªØ¹Ø¯Ø§Ø¯ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ§Ù†Ø¯Ù‡â€ŒØ´Ø¯Ù‡ (Ù‡Ù…Ø§Ù†Ù†Ø¯ Ù‚Ø¨Ù„)
                const totalReadBooks = readBooks.length;

                // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ§Ù†Ø¯Ù‡â€ŒØ´Ø¯Ù‡ Ø¯Ø± Ø³Ø§Ù„ Ø¬Ø§Ø±ÛŒ (Ù…Ø«Ù„Ø§Ù‹ Û±Û´Û°Û´)
                const currentYear = 1404; // Ø§ÛŒÙ† Ù…Ù‚Ø¯Ø§Ø± Ø±Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ø§ÛŒÙ†Ø§Ù…ÛŒÚ© Ù†ÛŒØ² ØªÙ†Ø¸ÛŒÙ… Ú©Ø±Ø¯
                const readBooksThisYear = readBooks.filter(book => parseInt(book.year) === currentYear).length;
                const zerobook = readBooksThisYear === 0 ? "ØµÙØ±" : readBooksThisYear;

                // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø¬Ù…ÙˆØ¹ ØµÙØ­Ø§Øª Ù…Ø·Ø§Ù„Ø¹Ù‡ Ø´Ø¯Ù‡ Ø§Ø² Ø¯Ùˆ Ø¨Ø®Ø´:
                // Ø¨Ø®Ø´ Ø§ÙˆÙ„: Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ ÙˆØ¶Ø¹ÛŒØªØ´Ø§Ù† "re" Ø§Ø³ØªØŒ Ø§Ø² ÙˆÛŒÚ˜Ú¯ÛŒ "pages" ÛŒØ§ "page" Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
                const pagesFromRE = books
                    .filter(book => book.stat === "re")
                    .reduce((sum, book) => sum + (Number(book.pages) || Number(book.page) || 0), 0);

                // Ø¨Ø®Ø´ Ø¯ÙˆÙ…: Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ ÙˆØ¶Ø¹ÛŒØªØ´Ø§Ù† Ø¹Ø¯Ø¯ÛŒ Ø§Ø³ØªØŒ Ù…Ù‚Ø¯Ø§Ø± Ø¹Ø¯Ø¯ÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± "stat" Ø¬Ù…Ø¹ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
                const pagesFromNumericStat = books
                    .filter(book => book.stat !== "re" && !isNaN(Number(book.stat)))
                    .reduce((sum, book) => sum + Number(book.stat), 0);

                // Ø¬Ù…Ø¹ Ù†Ù‡Ø§ÛŒÛŒ ØªØ¹Ø¯Ø§Ø¯ ØµÙØ­Ø§Øª Ù…Ø·Ø§Ù„Ø¹Ù‡ Ø´Ø¯Ù‡
                const totalReadPages = pagesFromRE + pagesFromNumericStat;

                summaryBox.innerHTML = `
                    <p>
                        ØªØ§ Ú©Ù†ÙˆÙ† <span class="label">${totalReadBooks}</span> Ú©ØªØ§Ø¨ Ø®ÙˆØ§Ù†Ø¯Ù‡â€ŒØ§Ù… Ùˆ
                        <span class="label">${totalReadPages}</span> ØµÙØ­Ù‡ Ø±Ø§ Ù¾Ø´Øª Ø³Ø± Ú¯Ø°Ø§Ø´ØªÙ‡â€ŒØ§Ù…ØŒ
                        Ø¯Ø± Ø³Ø§Ù„ Ø¬Ø§Ø±ÛŒ <span class="label">${zerobook}</span> Ú©ØªØ§Ø¨ Ø®ÙˆØ§Ù†Ø¯Ù‡â€ŒØ§Ù….
                    </p>
                `;

                // Ø¯Ø±Ø¬ Ø¨Ø§Ú©Ø³ Ø®Ù„Ø§ØµÙ‡ Ø¯Ø±Ø³Øª Ø¨Ø¹Ø¯ Ø§Ø² Ù‡Ø¯Ø± ØµÙØ­Ù‡
                document.querySelector('.header').insertAdjacentElement('afterend', summaryBox);

                // ØªØ¹Ø¯Ø§Ø¯ Ø§ÙˆÙ„ÛŒÙ‡ Ù†Ù…Ø§ÛŒØ´ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§
                let displayedBooks = 10;
                displayBooks(books, displayedBooks);

                // Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡ "Ù†Ù…Ø§ÛŒØ´ Ø¨ÛŒØ´ØªØ±" Ø¯Ø± ØµÙˆØ±Øª ÙˆØ¬ÙˆØ¯ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒØ´ØªØ±
                const loadMoreButton = document.createElement('button');
                loadMoreButton.className = 'load-more-btn';
                loadMoreButton.textContent = 'Ù†Ù…Ø§ÛŒØ´ Ø¨ÛŒØ´ØªØ±';
                bookContainer.appendChild(loadMoreButton);

                // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¯Ú©Ù…Ù‡ "Ù†Ù…Ø§ÛŒØ´ Ø¨ÛŒØ´ØªØ±"
                loadMoreButton.addEventListener('click', () => {
                    displayedBooks += 10;
                    displayBooks(books, displayedBooks);
                    if (displayedBooks >= books.length) {
                        loadMoreButton.remove();
                        const endMessageContainer = document.createElement('div');
                        endMessageContainer.classList.add('justi');

                        const endMessage = document.createElement('p');
                        endMessage.textContent = 'Ø§ÛŒÙ† Ø¢Ø®Ø± Ù„ÛŒØ³Øª Ø§Ø³Øª';

                        endMessageContainer.appendChild(endMessage);
                        bookContainer.appendChild(endMessageContainer);
                    }
                });

                /**
                 * ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ú©Ø§Ø±Ø¯.
                 *
                 * Ø¯Ø± Ø§ÛŒÙ† ØªØ§Ø¨Ø¹:
                 * 1- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©ØªØ§Ø¨ Ù…Ø§Ù†Ù†Ø¯ Ù†Ø§Ù…ØŒ Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡ Ùˆ ØªØ§Ø±ÛŒØ® Ù…Ø·Ø§Ù„Ø¹Ù‡ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
                 * 2- Ø¯Ùˆ Ù…ØªØºÛŒØ± Ø¨Ø±Ø§ÛŒ Ù…ØªÙ† Ø¨Ø±Ø±Ø³ÛŒ (Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø± Ú©Ø§Ø±Ø¯ Ùˆ Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø± Ù¾Ø§Ù¾â€ŒØ¢Ù¾) ØªØ¹Ø±ÛŒÙ Ù…ÛŒâ€ŒØ´ÙˆØ¯:
                 * - Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¯: Ø§Ú¯Ø± Ù…Ù‚Ø¯Ø§Ø± intro Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ø´Ø¯ØŒ "Ø§ÛŒÙ†Ø¬Ø§ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯" Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´ÙˆØ¯Ø›
                 * Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±Øª "Ù…Ø±ÙˆØ±ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡".
                 * 3- Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©ØªØ§Ø¨ (Ù†Ø§Ù…ØŒ Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡ØŒ ØªØ§Ø±ÛŒØ® Ù…Ø·Ø§Ù„Ø¹Ù‡ Ùˆ Ø¨Ø±Ø±Ø³ÛŒ) Ø¨Ù‡â€ŒØµÙˆØ±Øª ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡ Ø¯Ø± Ø¯Ø§Ø®Ù„ card.innerHTML ØªØ¹Ø±ÛŒÙ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.
                 * 4- Ø¯Ø± Ø§Ù†ØªÙ‡Ø§ÛŒ card.innerHTMLØŒ Ø¨Ø®Ø´ ÙˆØ¶Ø¹ÛŒØª (ÙˆØ¶Ø¹ÛŒØª Ø®ÙˆØ§Ù†Ø¯Ù† Ùˆ ØªØ¹Ø¯Ø§Ø¯ ØµÙØ­Ø§Øª) Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯.
                 * 5- Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ú©Ù„ Ú©Ø§Ø±Ø¯ ÙØ¹Ø§Ù„ Ø§Ø³ØªØ› Ù‡Ù…Ú†Ù†ÛŒÙ†ØŒ Ø§Ú¯Ø± Ø±ÙˆÛŒ Ù…ØªÙ† Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù„ÛŒÚ© Ø´ÙˆØ¯ØŒ Ø±ÙˆÛŒØ¯Ø§Ø¯ Ù…ØªÙØ§ÙˆØªÛŒ Ø¨Ù‡ Ù‡Ù…Ø±Ø§Ù‡ ØªÙˆÙ‚Ù Ø§Ù†ØªØ´Ø§Ø± Ø±ÙˆÛŒØ¯Ø§Ø¯ Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
                 *
                 * @param {Array} books - Ø¢Ø±Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ø§Ø² Ø§Ø´ÛŒØ§Ø¡ Ú©ØªØ§Ø¨
                 * @param {number} count - ØªØ¹Ø¯Ø§Ø¯ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´ÙˆÙ†Ø¯
                 */
                function displayBooks(books, count) {
                    bookContainer.innerHTML = ''; // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù…Ø­ØªÙˆØ§ÛŒ Ù‚Ø¨Ù„ÛŒ (Ø´Ø§Ù…Ù„ Ø§Ø³Ú©Ù„ØªÙˆÙ†â€ŒÙ‡Ø§)
                    // Ù†Ù…Ø§ÛŒØ´ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ Ø§Ø² Ø§Ø¨ØªØ¯Ø§ÛŒ Ø¢Ø±Ø§ÛŒÙ‡ (Ú†ÙˆÙ† Ø¢Ø±Ø§ÛŒÙ‡ Ù‚Ø¨Ù„ Ø§Ø² Ø§ÛŒÙ† Ù…Ø±ØªØ¨ Ø´Ø¯Ù‡ Ø§Ø³Øª)
                    books.slice(0, count).forEach((book) => {
                        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©ØªØ§Ø¨ Ø¨Ø§ Ø¯Ø± Ù†Ø¸Ø± Ú¯Ø±ÙØªÙ† Ù…Ù‚Ø¯Ø§Ø± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¯Ø± ØµÙˆØ±Øª Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯
                        const title = book.name || book.title || "Ù†Ø§Ù…Ø´Ø®Øµ";
                        const author = book.author || "Ù†Ø§Ø´Ù†Ø§Ø³";
                        const year = book.year || "Ù†Ø§Ù…Ø´Ø®Øµ";

                        // ØªØ¹Ø±ÛŒÙ Ø¯Ùˆ Ù…ØªØºÛŒØ± Ø¨Ø±Ø§ÛŒ Ù…ØªÙ† Ø¨Ø±Ø±Ø³ÛŒ:
                        // reviewCardText: Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø± Ú©Ø§Ø±Ø¯ (Ø§Ú¯Ø± intro Ù…Ø¹ØªØ¨Ø± Ø¨Ø§Ø´Ø¯ "Ø§ÛŒÙ†Ø¬Ø§ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯"ØŒ Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±Øª "Ù…Ø±ÙˆØ±ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡")
                        // reviewPopupText: Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø± Ù¾Ø§Ù¾â€ŒØ¢Ù¾ (Ø§Ú¯Ø± intro Ù…Ø¹ØªØ¨Ø± Ø¨Ø§Ø´Ø¯ Ù‡Ù…Ø§Ù† Ù…Ù‚Ø¯Ø§Ø±ØŒ Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±Øª Ù…Ù‚Ø¯Ø§Ø± Ù¾ÛŒØ´â€ŒÙØ±Ø¶)
                        const reviewCardText = (book.intro && book.intro.trim() && book.intro.trim().toLowerCase() !== "null")
                            ? "Ø§ÛŒÙ†Ø¬Ø§ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯" : "Ù…Ø±ÙˆØ±ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡";
                        const reviewPopupText = (book.intro && book.intro.trim() && book.intro.trim().toLowerCase() !== "null")
                            ? book.intro : "Ù…Ø±ÙˆØ±ÛŒ Ø¨Ø± Ø§ÛŒÙ† Ú©ØªØ§Ø¨ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª";

                        // Ù…Ø­Ø§Ø³Ø¨Ù‡ ØªØ¹Ø¯Ø§Ø¯ ØµÙØ­Ø§Øª Ùˆ ØªØ¹ÛŒÛŒÙ† ÙˆØ¶Ø¹ÛŒØª Ø®ÙˆØ§Ù†Ø¯Ù† Ú©ØªØ§Ø¨ Ø¨Ù‡ Ø´ÛŒÙˆÙ‡ Ù‚Ø¨Ù„ÛŒ
                        const totalPagesCount = book.pages || book.page || 0;
                        let statusText, pagesText;
                        let statusColor = "#9e8e71";
                        let statusAnim = "";
                        if (book.stat !== null && book.stat !== "null" && !isNaN(Number(book.stat))) {
                            statusText = "Ø¯Ø± Ø­Ø§Ù„ Ø®ÙˆØ§Ù†Ø¯Ù†";
                            pagesText = `${book.stat}/${totalPagesCount} ØµÙØ­Ù‡`;
                            statusColor = "#798478";
                            statusAnim = "typing";
                        } else if (book.stat === "fe") {
                            statusText = "Ø®ÙˆØ§Ù‡Ù… Ø®ÙˆØ§Ù†Ø¯";
                            statusColor = "#2179b5";
                            statusAnim = "later";
                            pagesText = `${totalPagesCount} ØµÙØ­Ù‡`;
                        } else if (book.stat === "re") {
                            statusText = "Ø®ÙˆØ§Ù†Ø¯Ù‡ Ø§Ù…";
                            statusColor = "#0ea960";
                            statusAnim = "ticked";
                            pagesText = `${totalPagesCount} ØµÙØ­Ù‡`;
                        } else {
                            statusText = "Ù†Ø§Ù…Ø´Ø®Øµ";
                            pagesText = `${totalPagesCount} ØµÙØ­Ù‡`;
                            statusColor = "#c44040";
                        }

                        // Ø§ÛŒØ¬Ø§Ø¯ Ø§Ù„Ù…Ø§Ù† Ú©Ø§Ø±Ø¯ Ùˆ ØªØ¹Ø±ÛŒÙ Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø§Ø®Ù„ÛŒ Ø¢Ù†:
                        // - Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©ØªØ§Ø¨ (Ù†Ø§Ù… Ú©ØªØ§Ø¨ØŒ Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡ØŒ ØªØ§Ø±ÛŒØ® Ù…Ø·Ø§Ù„Ø¹Ù‡ Ùˆ Ø¨Ø±Ø±Ø³ÛŒ) Ø¨Ù‡ ØµÙˆØ±Øª Ù…Ù†Ø³Ø¬Ù… Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
                        // - Ø¨Ø®Ø´ Ø¨Ø±Ø±Ø³ÛŒ (Ø¨Ø±Ø±Ø³ÛŒ) Ø¯Ø± Ù‚Ø§Ù„Ø¨ ÛŒÚ© <span> Ø¬Ù‡Øª Ø«Ø¨Øª Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ Ø§Ø³Øª.
                        // - Ø¨Ø®Ø´ ÙˆØ¶Ø¹ÛŒØª (ÙˆØ¶Ø¹ÛŒØª Ø®ÙˆØ§Ù†Ø¯Ù† Ùˆ ØªØ¹Ø¯Ø§Ø¯ ØµÙØ­Ø§Øª) Ø¯Ø± Ø§Ù†ØªÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¯ Ù‚Ø±Ø§Ø± Ú¯Ø±ÙØªÙ‡ Ø§Ø³Øª.
                        const card = document.createElement('div');
                        card.className = 'card fade-in'; // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ù„Ø§Ø³ ÙÛŒØ¯-Ø§ÛŒÙ†
                        card.innerHTML = `
                            <div class="card-content">
                                <p class="pitem"><span class="label">Ù†Ø§Ù… Ú©ØªØ§Ø¨</span> â”‚ ${title}</p>
                                <p class="pitem"><span class="label">Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡</span> â”‚ ${author}</p>
                                <p class="pitem"><span class="label">ØªØ§Ø±ÛŒØ® Ù…Ø·Ø§Ù„Ø¹Ù‡</span> â”‚ ${year}</p>
                                <p class="pitem"><span class="label">Ø¨Ø±Ø±Ø³ÛŒ</span> â”‚ <span class="review-text">${reviewCardText}</span></p>
                                <div class="status-container">
                                    <div class="status-right"><p class="sitem ${statusAnim}" style="background-color: ${statusColor}; color: #fff;">${statusText}</p></div>
                                    <div class="status-left"><p class="sitem" style="color: #fff;">${pagesText}</p></div>
                                </div>
                            </div>
                        `;

                        // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ú©Ù„ Ú©Ø§Ø±Ø¯: Ù†Ù…Ø§ÛŒØ´ Ù¾Ø§Ù¾â€ŒØ¢Ù¾ Ø¨Ø§ Ù…ØªÙ† Ø¨Ø±Ø±Ø³ÛŒ (Ø¨Ø± Ø§Ø³Ø§Ø³ reviewPopupText)
                        card.addEventListener('click', () => {
                            document.getElementById("popupText").innerHTML = `
                                <strong>Ø´Ù†Ø§Ø³Ù‡ Ú©ØªØ§Ø¨:</strong> ${book.id}<br>
                                <strong>Ø¨Ø±Ø³ÛŒ:</strong> ${reviewPopupText}
                            `;
                            document.getElementById("popupModal").style.display = "flex";
                        });

                        // Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ù…ØªÙ† Ø¨Ø±Ø±Ø³ÛŒ (Ø¯Ø§Ø®Ù„ Ø§Ø³Ù¾Ù†)Ø› Ø§Ø¬Ø±Ø§ÛŒ Ù†Ø³Ø®Ù‡ Ù…ØªÙØ§ÙˆØª (Ø¨Ø§ ØªÙˆÙ‚Ù Ø§Ù†ØªØ´Ø§Ø± Ø±ÙˆÛŒØ¯Ø§Ø¯)
                        const reviewSpan = card.querySelector('.review-text');
                        if (reviewSpan) {
                            reviewSpan.addEventListener('click', (e) => {
                                e.stopPropagation(); // Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ú©Ù„ Ú©Ø§Ø±Ø¯
                                document.getElementById("popupText").innerHTML = `
                                    <strong>Ø´Ù†Ø§Ø³Ù‡ Ú©ØªØ§Ø¨:</strong> ${book.id}<br>
                                    <strong>Ø¨Ø±Ø³ÛŒ Ù…Ù†:</strong> ${reviewPopupText}
                                `;
                                document.getElementById("popupModal").style.display = "flex";
                            });
                        }

                        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø¯ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø¨Ù‡ Ø¸Ø±Ù Ú©ØªØ§Ø¨â€ŒÙ‡Ø§
                        bookContainer.appendChild(card);
                    });
                }

            } catch (error) {
                console.error("Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§:", error.message);
                // Ø¯Ø± ØµÙˆØ±Øª Ø®Ø·Ø§ØŒ Ø§Ø³Ú©Ù„ØªÙˆÙ†â€ŒÙ‡Ø§ Ø±Ø§ Ù¾Ù†Ù‡Ø§Ù† Ú©Ù†ÛŒØ¯ Ùˆ Ù¾ÛŒØ§Ù… Ø®Ø·Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ù‡ÛŒØ¯
                if (summarySkeleton.parentNode) {
                    summarySkeleton.parentNode.removeChild(summarySkeleton);
                }
                bookContainer.innerHTML = "<p style='text-align: center; color: var(--span);'><i class='fas fa-exclamation-circle'></i>&nbsp;Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§.</p>";
                // Ø­Ø°Ù Ø¯Ú©Ù…Ù‡ "Ù†Ù…Ø§ÛŒØ´ Ø¨ÛŒØ´ØªØ±" Ø¯Ø± ØµÙˆØ±Øª Ø®Ø·Ø§
                const loadMoreButton = document.querySelector('.load-more-btn');
                if (loadMoreButton) {
                    loadMoreButton.remove();
                }
            }
        }

        /*--------------------------
            ÛŒÚ©Ù¾Ø§Ø±Ú†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù‡Ù…Ù‡ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ Ù¾Ø³ Ø§Ø² Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©Ø§Ù…Ù„ DOM
        ---------------------------*/
        document.addEventListener('DOMContentLoaded', () => {
            // Ø§Ø¹Ù…Ø§Ù„ ØªÙ… Ø°Ø®ÛŒØ±Ù‡â€ŒØ´Ø¯Ù‡ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ú©ÙˆÚ©ÛŒ ÛŒØ§ ØªØ´Ø®ÛŒØµ ØªÙ… Ø¯Ø³ØªÚ¯Ø§Ù‡
            const savedPreference = getCookie("theme_preference");
            if (savedPreference) {
                applyTheme(savedPreference);
            } else {
                // Ø¨Ù‡ ØµÙˆØ±Øª Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø±ÙˆÛŒ 'auto' ØªÙ†Ø¸ÛŒÙ… Ø´ÙˆØ¯ Ø§Ú¯Ø± Ù‡ÛŒÚ† ØªØ±Ø¬ÛŒØ­ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ù†Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯
                setCookie("theme_preference", "auto", 365);
                applyTheme("auto");
            }

            // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§
            loadBooks();
        });

        // =========================== Popup Close Event ==========================
        document.getElementById("closePopup").addEventListener('click', function() {
            document.getElementById("popupModal").style.display = "none";
        });
    </script>
</body>
</html>
